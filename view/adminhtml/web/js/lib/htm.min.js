!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).htm=n()}(this,function(){var e=function(n,t,r,u){var o;t[0]=0;for(var i=1;i<t.length;i++){var f=t[i++],c=t[i]?(t[0]|=f?1:2,r[t[i++]]):t[++i];3===f?u[0]=c:4===f?u[1]=Object.assign(u[1]||{},c):5===f?(u[1]=u[1]||{})[t[++i]]=c:6===f?u[1][t[++i]]+=c+"":f?(o=n.apply(c,e(n,c,r,["",null])),u.push(o),c[0]?t[0]|=2:(t[i-2]=0,t[i]=o)):u.push(c)}return u},n=new Map,t=function(e){var t=n.get(this);return t||(t=new Map,n.set(this,t)),(t=e(this,t.get(e)||(t.set(e,t=function(e){for(var n,t,r=1,u="",o="",i=[0],f=function(e){1===r&&(e||(u=u.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?i.push(e||u,0):3===r&&(e||u)?(i.push(e||u,1),r=2):2===r&&"..."===u&&e?i.push(e,3):2===r&&u&&!e?i.push(!0,5,u):r>=5&&((u||!e&&5===r)&&(i.push(u,r,t),r=6),e&&(i.push(e,r,t),r=6)),u=""},c=0;c<e.length;c++){c&&(1===r&&f(),f(c));for(var s=0;s<e[c].length;s++)n=e[c][s],1===r?"<"===n?(f(),i=[i],r=3):u+=n:4===r?"--"===u&&">"===n?(r=1,u=""):u=n+u[0]:o?n===o?o="":u+=n:'"'===n||"'"===n?o=n:">"===n?(f(),r=1):r&&("="===n?(r=5,t=u,u=""):"/"===n&&(r<5||">"===e[c][s+1])?(f(),3===r&&(i=i[0]),r=i,(i=i[0]).push(r,2),r=0):" "===n||"\t"===n||"\n"===n||"\r"===n?(f(),r=2):u+=n),3===r&&"!--"===u&&(r=4,i=i[0])}return f(),i}(e)),t))},r=function(n){var r=this||{n:[]},u=[],o=n[0],i=n.length;i>1&&(o=o||"html",r.n.push(o),u.push.apply(u,e(this&&this.h||t,n.slice(1),arguments,[o,{}])));var f=r.t;return r.t=0,i>2?f&&u.length>1?function(e){e.n=o,e[o]={},[].slice.call(arguments,1).forEach(function(n,t){e[o][u[2*t+1]]=n})}:u[1]:(o=f?r.n.pop():o,u[0])};return r.bind?r.bind(r):r}); 