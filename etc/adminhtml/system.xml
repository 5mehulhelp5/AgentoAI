<?xml version="1.0"?>
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Config:etc/system_file.xsd">
    <system>
        <tab id="genaker" translate="label" sortOrder="999">
            <label>Genaker</label>
        </tab>
        <section id="magentomcpai" translate="label" type="text" sortOrder="100" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Magento MCP AI</label>
            <tab>genaker</tab>
            <resource>Genaker_MagentoMcpAi::config</resource>
            <group id="general" translate="label" type="text" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>General Configuration</label>
                <field id="enabled" translate="label" type="select" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Enable MCP AI</label>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                </field>
                <field id="api_key" translate="label" type="text" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>OpenAI API Key</label>
                    <comment>Enter your OpenAI API key</comment>
                </field>
                <field id="mspi_api_key" translate="label" type="text" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>MSPI API Key</label>
                    <comment>Enter your MSPI API key for validation</comment>
                </field>
                <field id="model" translate="label" type="select" sortOrder="40" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Default AI Model</label>
                    <source_model>Genaker\MagentoMcpAi\Model\Config\Source\Model</source_model>
                </field>
                <field id="max_tokens" translate="label comment" type="text" sortOrder="50" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Max Tokens</label>
                    <comment>Maximum number of tokens to generate (1-4000)</comment>
                    <validate>validate-number validate-number-range number-range-1-4000</validate>
                </field>
                <field id="temperature" translate="label comment" type="text" sortOrder="60" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Temperature</label>
                    <comment>Controls randomness (0.0-1.0). Lower is more focused, higher is more creative.</comment>
                    <validate>validate-number validate-number-range number-range-0-1</validate>
                </field>
                <field id="ai_rules" translate="label" type="textarea" sortOrder="70" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>AI Rules</label>
                    <comment>Define rules and guidelines for the AI assistant</comment>
                    <!-- <backend_model>Magento\Config\Model\Config\Backend\Serialized\ArraySerialized</backend_model> -->
                </field>
                <field id="documentation" translate="label" type="textarea" sortOrder="80" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Documentation</label>
                    <comment>Add relevant documentation and context for the AI assistant</comment>
                </field>
            </group>
            <group id="chatbot" translate="label" type="text" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Customer Chatbot Configuration</label>
                <field id="enabled" translate="label" type="select" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Enable Customer Chatbot</label>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                </field>
                <field id="title" translate="label" type="text" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Chatbot Title</label>
                    <comment>Title displayed in the chatbot header</comment>
                </field>
                <field id="welcome_message" translate="label" type="textarea" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Welcome Message</label>
                    <comment>Initial message displayed when the chatbot opens</comment>
                </field>
                <field id="model" translate="label" type="select" sortOrder="40" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>AI Model for Chatbot</label>
                    <source_model>Genaker\MagentoMcpAi\Model\Config\Source\Model</source_model>
                    <comment>Select the AI model to use for chatbot responses</comment>
                </field>
                <field id="suggested_queries" translate="label" type="textarea" sortOrder="50" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Suggested Queries</label>
                    <comment>List of suggested queries (one per line) to show in the chatbot</comment>
                </field>
                <field id="logo" translate="label" type="image" sortOrder="60" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Chatbot Logo</label>
                    <backend_model>Magento\Config\Model\Config\Backend\Image</backend_model>
                    <upload_dir config="system/filesystem/media" scope_info="1">magentomcpai/chatbot</upload_dir>
                    <base_url type="media" scope_info="1">magentomcpai/chatbot</base_url>
                    <comment>Logo displayed in the chatbot (recommended size: 64x64px)</comment>
                </field>
                <field id="faqs" translate="label" type="textarea" sortOrder="70" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Frequently Asked Questions</label>
                    <comment>Common questions and answers to cache for the chatbot (in Q&amp;A format)</comment>
                </field>
            </group>
            <group id="security" translate="label" type="text" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Security Settings</label>
                <field id="max_query_length" translate="label comment" type="text" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Maximum Query Length</label>
                    <comment>Maximum allowed length for SQL queries (in characters)</comment>
                    <validate>validate-number validate-greater-than-zero</validate>
                </field>
                <field id="rate_limit" translate="label comment" type="text" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Rate Limit</label>
                    <comment>Maximum number of requests per minute</comment>
                    <validate>validate-number validate-greater-than-zero</validate>
                </field>
            </group>
        </section>
    </system>
</config>